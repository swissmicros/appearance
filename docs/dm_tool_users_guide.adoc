:allow-uri-read:
:stylesheet: https://tech.swissmicros.com/User-Manuals/usermanuals.css
:linkcss:
:lang: en
:toc: left
:toclevels: 3
:doctype: book

:table-stripes: even
:chapter-label: 

:version: 0.1

:title-page: DM Tool Users Guide
= DM Tool Users Guide
SwissMicros GmbH
Copyright © 2016 – {localyear} • v{version} • {docdate}


== USB device access rights

You can allow access to the DFU device 


.49-stm32-dfuse.rules 
----
# This is udev rules file (place in /etc/udev/rules.d)
# Makes STM32 DfuSe device accessible to the "plugdev" group

ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="0483", ATTRS{idProduct}=="df11", MODE="664", GROUP="plugdev"
----

Copy this file to udev rules directory:

----
sudo cp 49-stm32-dfuse.rules /etc/udev/rules.d/
sudo udevadm control --reload-rules
----

or as root

----
cd /etc/udev/rules.d/
cat << OI > 49-stm32-dfuse.rules
# This is udev rules file (place in /etc/udev/rules.d)
# Makes STM32 DfuSe device accessible to the "plugdev" group

ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="0483", ATTRS{idProduct}=="df11", MODE="664", GROUP="plugdev"
OI
udevadm control --reload-rules
----


== Port preparation

Modemmanager quite strongly interfere with serial lines, here is how you can 
remove it:

----
sudo apt-get remove --purge modemmanager
----

== Required modules

----
sudo apt-get install python3-tk
sudo apt-get install python3-usb
----