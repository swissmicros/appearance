:stylesheet: https://tech.swissmicros.com/User-Manuals/usermanuals.css
:linkcss:
:table-stripes: even
:chapter-label: 
:allow-uri-read:
:doctype: book
:lang: en

:version: 1.01

:toc: left
:toclevels: 3
:sectnums:
:sectnumlevels: 3
:source-highlighter: coderay
:icons: font
:experimental:
:imagesdir: img/libusb_install


= Libusb Installation
SwissMicros GmbH
Copyright © 2016 – {localyear} • v{version} • {docdate}


== Get installation zip

Download https://technical.swissmicros.com/tools/libusb-win32-install-1.2.6.0.zip and extract somewhere.


== Start inf_wizard.exe

Now navigate to the +libusb-win32-install-1.2.6.0+ directory and run +inf-wizard.exe+ as administrator.

[[img-inf-wizard]]
.inf-wizard.exe
image::libusb-inst-01.png[inf-wizard.exe]

== Access control

It is possible (depending on your security settings) you will need to confirm the access control.

[[img-access-control]]
.Access control
image::libusb-inst-02.png[Access control]

== Connect USB device

First screen of +inf-wizard+ instruct you to connect your USB device.

You have to initiate the device into bootloader mode using +PGM+ and +RESET+ buttons: +
Press and hold PGM button, then press RESET and release PGM button +
(see
link:https://technical.swissmicros.com/dm42/doc/dm42_user_manual/#bootloader_mode_activation[Bootloader mode activation] for more details).

Now you can connect it to the USB and press +[ Next> ]+.

[[img-connect-device]]
.Connect usb device
image::libusb-inst-03.png[Connect usb device]

== Select USB device

Select +STM32 BOOTLOADER+ device from the list and press +[ Next> ]+.

[[img-select-device]]
.Select USB device
image::libusb-inst-04.png[Select USB device]


== Confirm USB device info

Just check you have selected correct device and press +[ Next> ]+.

[[img-confirm-dev-info]]
.Confirm device info
image::libusb-inst-05.png[Confirm device info]


== Save .inf file

Save generated .inf file. You don't have to do anything special with this
file if you proceed with automatic installation in the next step.

[[img-save-inf-file]]
.Save .inf file
image::libusb-inst-06.png[Save .inf file]

== Start Driver Installation

Start driver installation by pressing +[ Install Now... ]+.

[[img-start-inst]]
.Start driver installation
image::libusb-inst-07.png[Start driver installation]

== Installation proceeds

Just look at the nice progressbar...

[[img-inst]]
.Installation
image::libusb-inst-08.png[Installation]

== Installation finished

Hopefully the installation completes without error.

[[img-success]]
.Installation finished
image::libusb-inst-09.png[Installation finished]

== Check device manager

You can check successful installation of the USB driver by looking into
device manager at _libusb-win32 devices_. +STM32 BOOTLOADER+ should be
listed there (as can be seen in next image).

[[img-dev-man]]
.Device manager - STM32 BOOTLOADER
image::dev_mngr_stm32_bootloader.png[Device manager - STM32 BOOTLOADER]

